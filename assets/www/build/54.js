webpackJsonp([54],{2168:function(l,n,e){"use strict";function View_CoreLoginSitePage_3(l){return t._57(0,[(l()(),t._31(0,0,null,null,22,null,null,null,null,null,null,null)),(l()(),t._55(-1,null,["\n                    "])),(l()(),t._31(2,0,null,null,19,"ion-item",[["class","item item-block"]],null,null,null,T.b,T.a)),t._30(3,1097728,null,3,N.a,[Q.a,K.a,t.t,t.V,[2,G.a]],null,null),t._52(335544320,3,{contentLabel:0}),t._52(603979776,4,{_buttons:1}),t._52(603979776,5,{_icons:1}),t._30(7,16384,null,0,B.a,[],null,null),(l()(),t._55(-1,2,["\n                        "])),(l()(),t._31(9,0,null,1,4,"ion-label",[["stacked",""]],null,null,null,null,null)),t._30(10,16384,[[3,4]],0,W.a,[K.a,t.t,t.V,[8,null],[8,""],[8,null],[8,null]],null,null),(l()(),t._31(11,0,null,null,2,"h2",[],null,null,null,null,null)),(l()(),t._55(12,null,["",""])),t._47(131072,J.a,[z.a,t.j]),(l()(),t._55(-1,2,["\n                        "])),(l()(),t._31(15,0,null,3,5,"ion-input",[["formControlName","siteUrl"],["name","url"],["placeholder","https://campus.example.edu"],["type","url"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,X.b,X.a)),t._30(16,81920,null,0,Y.a,[t.t,c.b,d.b,[2,Z.a]],{coreAutoFocus:[0,"coreAutoFocus"]},null),t._30(17,671744,null,0,p.f,[[3,p.b],[8,null],[8,null],[8,null]],{name:[0,"name"]},null),t._50(2048,null,p.m,null,[p.f]),t._30(19,16384,null,0,p.n,[p.m],null,null),t._30(20,5423104,null,0,ll.a,[K.a,nl.a,Q.a,el.a,t.t,t.V,[2,tl.a],[2,N.a],[2,p.m],ul.a],{type:[0,"type"],placeholder:[1,"placeholder"]},null),(l()(),t._55(-1,2,["\n                    "])),(l()(),t._55(-1,null,["\n                "]))],function(l,n){var e=n.component;l(n,16,0,e.showKeyboard&&!e.showScanQR);l(n,17,0,"siteUrl");l(n,20,0,"url","https://campus.example.edu")},function(l,n){l(n,12,0,t._56(n,12,0,t._44(n,13).transform("core.login.siteaddress")));l(n,15,0,t._44(n,19).ngClassUntouched,t._44(n,19).ngClassTouched,t._44(n,19).ngClassPristine,t._44(n,19).ngClassDirty,t._44(n,19).ngClassValid,t._44(n,19).ngClassInvalid,t._44(n,19).ngClassPending)})}function View_CoreLoginSitePage_5(l){return t._57(0,[(l()(),t._31(0,0,null,null,21,"button",[["class","core-login-entered-site item item-block"],["detail-push",""],["ion-item",""]],[[1,"aria-label",0]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;if("click"===n){t=!1!==u.connect(e,u.enteredSiteUrl.url)&&t}return t},T.b,T.a)),t._30(1,1097728,null,3,N.a,[Q.a,K.a,t.t,t.V,[2,G.a]],null,null),t._52(335544320,12,{contentLabel:0}),t._52(603979776,13,{_buttons:1}),t._52(603979776,14,{_icons:1}),t._30(5,16384,null,0,B.a,[],null,null),t._47(131072,J.a,[z.a,t.j]),(l()(),t._55(-1,2,["\n                            "])),(l()(),t._31(8,0,null,0,5,"ion-thumbnail",[["item-start",""]],null,null,null,null,null)),t._30(9,16384,null,0,il.a,[],null,null),(l()(),t._55(-1,null,["\n                                "])),(l()(),t._31(11,0,null,null,1,"core-icon",[["name","fa-pencil"]],null,null,null,ol.b,ol.a)),t._30(12,704512,null,0,al.a,[t.t,K.a],{name:[0,"name"]},null),(l()(),t._55(-1,null,["\n                            "])),(l()(),t._55(-1,2,["\n                            "])),(l()(),t._31(15,0,null,2,2,"h2",[["text-wrap",""]],null,null,null,null,null)),(l()(),t._55(16,null,["",""])),t._47(131072,J.a,[z.a,t.j]),(l()(),t._55(-1,2,["\n                            "])),(l()(),t._31(19,0,null,2,1,"p",[],null,null,null,null,null)),(l()(),t._55(20,null,["",""])),(l()(),t._55(-1,2,["\n                        "]))],function(l,n){l(n,12,0,"fa-pencil")},function(l,n){var e=n.component;l(n,0,0,t._56(n,0,0,t._44(n,6).transform("core.login.connect")));l(n,16,0,t._56(n,16,0,t._44(n,17).transform("core.login.yourenteredsite")));l(n,20,0,e.enteredSiteUrl.noProtocolUrl)})}function View_CoreLoginSitePage_6(l){return t._57(0,[(l()(),t._31(0,0,null,null,2,"div",[["class","core-login-site-list-loading"]],null,null,null,null,null)),(l()(),t._31(1,0,null,null,1,"ion-spinner",[],[[2,"spinner-paused",null]],null,null,rl.b,rl.a)),t._30(2,114688,null,0,sl.a,[K.a,t.t,t.V],null,null)],function(l,n){l(n,2,0)},function(l,n){l(n,1,0,t._44(n,2)._paused)})}function View_CoreLoginSitePage_8(l){return t._57(0,[(l()(),t._31(0,0,null,null,0,"img",[["onError","this.src='assets/icon/icon.png'"]],[[8,"src",4]],null,null,null,null))],null,function(l,n){l(n,0,0,n.parent.context.$implicit.imageurl)})}function View_CoreLoginSitePage_9(l){return t._57(0,[(l()(),t._31(0,0,null,null,0,"img",[["class","core-login-default-icon"],["src","assets/icon/icon.png"]],null,null,null,null,null))],null,null)}function View_CoreLoginSitePage_10(l){return t._57(0,[(l()(),t._31(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),t._55(1,null,[" (",")"]))],null,function(l,n){l(n,1,0,n.parent.context.$implicit.alias)})}function View_CoreLoginSitePage_12(l){return t._57(0,[(l()(),t._31(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),t._55(1,null,[""," - "]))],null,function(l,n){l(n,1,0,n.parent.parent.context.$implicit.city)})}function View_CoreLoginSitePage_11(l){return t._57(0,[(l()(),t._31(0,0,null,null,3,"p",[["text-wrap",""]],null,null,null,null,null)),(l()(),t._26(16777216,null,null,1,null,View_CoreLoginSitePage_12)),t._30(2,16384,null,0,cl.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(l()(),t._55(3,null,["",""]))],function(l,n){l(n,2,0,n.parent.context.$implicit.city)},function(l,n){l(n,3,0,n.parent.context.$implicit.country)})}function View_CoreLoginSitePage_7(l){return t._57(0,[(l()(),t._31(0,0,null,null,27,"button",[["class","item item-block"],["detail-push",""],["ion-item",""]],[[1,"aria-label",0]],[[null,"click"]],function(l,n,e){var t=!0;if("click"===n){t=!1!==l.component.connect(e,l.context.$implicit.url,l.context.$implicit)&&t}return t},T.b,T.a)),t._30(1,1097728,null,3,N.a,[Q.a,K.a,t.t,t.V,[2,G.a]],null,null),t._52(335544320,15,{contentLabel:0}),t._52(603979776,16,{_buttons:1}),t._52(603979776,17,{_icons:1}),t._30(5,16384,null,0,B.a,[],null,null),(l()(),t._55(-1,2,["\n                                "])),(l()(),t._31(7,0,null,0,8,"ion-thumbnail",[["item-start",""]],null,null,null,null,null)),t._30(8,16384,null,0,il.a,[],null,null),(l()(),t._55(-1,null,["\n                                    "])),(l()(),t._26(16777216,null,null,1,null,View_CoreLoginSitePage_8)),t._30(11,16384,null,0,cl.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(l()(),t._55(-1,null,["\n                                    "])),(l()(),t._26(16777216,null,null,1,null,View_CoreLoginSitePage_9)),t._30(14,16384,null,0,cl.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(l()(),t._55(-1,null,["\n                                "])),(l()(),t._55(-1,2,["\n                                "])),(l()(),t._31(17,0,null,2,3,"h2",[["text-wrap",""]],null,null,null,null,null)),(l()(),t._55(18,null,["",""])),(l()(),t._26(16777216,null,null,1,null,View_CoreLoginSitePage_10)),t._30(20,16384,null,0,cl.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(l()(),t._55(-1,2,["\n                                "])),(l()(),t._31(22,0,null,2,1,"p",[],null,null,null,null,null)),(l()(),t._55(23,null,["",""])),(l()(),t._55(-1,2,["\n                                "])),(l()(),t._26(16777216,null,2,1,null,View_CoreLoginSitePage_11)),t._30(26,16384,null,0,cl.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(l()(),t._55(-1,2,["\n                            "]))],function(l,n){l(n,11,0,n.context.$implicit.imageurl);l(n,14,0,!n.context.$implicit.imageurl);l(n,20,0,n.context.$implicit.alias);l(n,26,0,n.context.$implicit.country||n.context.$implicit.city)},function(l,n){l(n,0,0,n.context.$implicit.name);l(n,18,0,n.context.$implicit.name);l(n,23,0,n.context.$implicit.noProtocolUrl)})}function View_CoreLoginSitePage_13(l){return t._57(0,[(l()(),t._31(0,0,null,null,2,"div",[["class","core-login-site-nolist-loading"]],null,null,null,null,null)),(l()(),t._31(1,0,null,null,1,"ion-spinner",[],[[2,"spinner-paused",null]],null,null,rl.b,rl.a)),t._30(2,114688,null,0,sl.a,[K.a,t.t,t.V],null,null)],function(l,n){l(n,2,0)},function(l,n){l(n,1,0,t._44(n,2)._paused)})}function View_CoreLoginSitePage_4(l){return t._57(0,[(l()(),t._31(0,0,null,null,51,null,null,null,null,null,null,null)),(l()(),t._55(-1,null,["\n                    "])),(l()(),t._31(2,0,null,null,19,"ion-item",[["class","item item-block"]],null,null,null,T.b,T.a)),t._30(3,1097728,null,3,N.a,[Q.a,K.a,t.t,t.V,[2,G.a]],null,null),t._52(335544320,6,{contentLabel:0}),t._52(603979776,7,{_buttons:1}),t._52(603979776,8,{_icons:1}),t._30(7,16384,null,0,B.a,[],null,null),(l()(),t._55(-1,2,["\n                        "])),(l()(),t._31(9,0,null,1,4,"ion-label",[["stacked",""]],null,null,null,null,null)),t._30(10,16384,[[6,4]],0,W.a,[K.a,t.t,t.V,[8,null],[8,""],[8,null],[8,null]],null,null),(l()(),t._31(11,0,null,null,2,"h2",[],null,null,null,null,null)),(l()(),t._55(12,null,["",""])),t._47(131072,J.a,[z.a,t.j]),(l()(),t._55(-1,2,["\n                        "])),(l()(),t._31(15,0,null,3,5,"ion-input",[["formControlName","siteUrl"],["name","url"],["placeholder","https://campus.example.edu"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionChange"]],function(l,n,e){var t=!0,u=l.component;if("ionChange"===n){t=!1!==u.searchSite(e,u.siteForm.value.siteUrl)&&t}return t},X.b,X.a)),t._30(16,81920,null,0,Y.a,[t.t,c.b,d.b,[2,Z.a]],{coreAutoFocus:[0,"coreAutoFocus"]},null),t._30(17,671744,null,0,p.f,[[3,p.b],[8,null],[8,null],[8,null]],{name:[0,"name"]},null),t._50(2048,null,p.m,null,[p.f]),t._30(19,16384,null,0,p.n,[p.m],null,null),t._30(20,5423104,null,0,ll.a,[K.a,nl.a,Q.a,el.a,t.t,t.V,[2,tl.a],[2,N.a],[2,p.m],ul.a],{placeholder:[0,"placeholder"]},{ionChange:"ionChange"}),(l()(),t._55(-1,2,["\n                    "])),(l()(),t._55(-1,null,["\n\n                    "])),(l()(),t._31(23,0,null,null,24,"ion-list",[["class","core-login-site-list"]],[[2,"hidden",null]],null,null,null,null)),t._30(24,16384,null,0,_l.a,[K.a,t.t,t.V,nl.a,gl.l,ul.a],null,null),(l()(),t._55(-1,null,["\n                        "])),(l()(),t._31(26,0,null,null,8,"ion-item",[["class","core-login-site-list-title item item-block"],["no-lines",""]],null,null,null,T.b,T.a)),t._30(27,1097728,null,3,N.a,[Q.a,K.a,t.t,t.V,[2,G.a]],null,null),t._52(335544320,9,{contentLabel:0}),t._52(603979776,10,{_buttons:1}),t._52(603979776,11,{_icons:1}),t._30(31,16384,null,0,B.a,[],null,null),(l()(),t._31(32,0,null,2,2,"h2",[["class","item-heading"]],null,null,null,null,null)),(l()(),t._55(33,null,["",""])),t._47(131072,J.a,[z.a,t.j]),(l()(),t._55(-1,null,["\n                        "])),(l()(),t._26(16777216,null,null,1,null,View_CoreLoginSitePage_5)),t._30(37,16384,null,0,cl.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(l()(),t._55(-1,null,["\n\n                        "])),(l()(),t._31(39,0,null,null,7,"div",[["class","core-login-site-list-found"]],[[2,"hidden",null],[2,"dimmed",null]],null,null,null,null)),(l()(),t._55(-1,null,["\n                            "])),(l()(),t._26(16777216,null,null,1,null,View_CoreLoginSitePage_6)),t._30(42,16384,null,0,cl.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(l()(),t._55(-1,null,["\n                            "])),(l()(),t._26(16777216,null,null,1,null,View_CoreLoginSitePage_7)),t._30(45,802816,null,0,cl.j,[t._11,t._6,t.E],{ngForOf:[0,"ngForOf"]},null),(l()(),t._55(-1,null,["\n                        "])),(l()(),t._55(-1,null,["\n                    "])),(l()(),t._55(-1,null,["\n\n                    "])),(l()(),t._26(16777216,null,null,1,null,View_CoreLoginSitePage_13)),t._30(50,16384,null,0,cl.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(l()(),t._55(-1,null,["\n                "]))],function(l,n){var e=n.component;l(n,16,0,e.showKeyboard&&!e.showScanQR);l(n,17,0,"siteUrl");l(n,20,0,"https://campus.example.edu");l(n,37,0,e.enteredSiteUrl);l(n,42,0,e.loadingSites);l(n,45,0,e.sites);l(n,50,0,!e.hasSites&&e.loadingSites)},function(l,n){var e=n.component;l(n,12,0,t._56(n,12,0,t._44(n,13).transform("core.login.siteaddress")));l(n,15,0,t._44(n,19).ngClassUntouched,t._44(n,19).ngClassTouched,t._44(n,19).ngClassPristine,t._44(n,19).ngClassDirty,t._44(n,19).ngClassValid,t._44(n,19).ngClassInvalid,t._44(n,19).ngClassPending);l(n,23,0,!e.hasSites&&!e.enteredSiteUrl);l(n,33,0,t._56(n,33,0,t._44(n,34).transform("core.login.selectsite")));l(n,39,0,!e.hasSites,e.loadingSites)})}function View_CoreLoginSitePage_2(l){return t._57(0,[(l()(),t._31(0,0,null,null,7,null,null,null,null,null,null,null)),(l()(),t._55(-1,null,["\n                "])),(l()(),t._26(16777216,null,null,1,null,View_CoreLoginSitePage_3)),t._30(3,16384,null,0,cl.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(l()(),t._55(-1,null,["\n                "])),(l()(),t._26(16777216,null,null,1,null,View_CoreLoginSitePage_4)),t._30(6,16384,null,0,cl.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(l()(),t._55(-1,null,["\n            "]))],function(l,n){var e=n.component;l(n,3,0,"url"==e.siteSelector);l(n,6,0,"url"!=e.siteSelector)},null)}function View_CoreLoginSitePage_15(l){return t._57(0,[(l()(),t._31(0,0,null,null,2,"ion-option",[],null,null,null,null,null)),t._30(1,16384,[[21,4]],0,dl.a,[t.t],{value:[0,"value"]},null),(l()(),t._55(2,null,["",""]))],function(l,n){l(n,1,0,n.context.$implicit.url)},function(l,n){l(n,2,0,n.context.$implicit.name)})}function View_CoreLoginSitePage_14(l){return t._57(0,[(l()(),t._31(0,0,null,null,24,"ion-item",[["class","item item-block"],["margin-vertical",""],["text-wrap",""]],null,null,null,T.b,T.a)),t._30(1,1097728,null,3,N.a,[Q.a,K.a,t.t,t.V,[2,G.a]],null,null),t._52(335544320,18,{contentLabel:0}),t._52(603979776,19,{_buttons:1}),t._52(603979776,20,{_icons:1}),t._30(5,16384,null,0,B.a,[],null,null),(l()(),t._55(-1,2,["\n                "])),(l()(),t._31(7,0,null,1,3,"ion-label",[["for","siteSelect"],["stacked",""]],null,null,null,null,null)),t._30(8,16384,[[18,4]],0,W.a,[K.a,t.t,t.V,[8,null],[8,""],[8,null],[8,null]],null,null),(l()(),t._55(9,null,["",""])),t._47(131072,J.a,[z.a,t.j]),(l()(),t._55(-1,2,["\n                "])),(l()(),t._31(12,0,null,3,11,"ion-select",[["formControlName","siteUrl"],["interface","action-sheet"],["name","url"]],[[2,"select-disabled",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"click"],[null,"keyup.space"]],function(l,n,e){var u=!0;if("click"===n){u=!1!==t._44(l,13)._click(e)&&u}if("keyup.space"===n){u=!1!==t._44(l,13)._keyup()&&u}return u},fl.b,fl.a)),t._30(13,1228800,null,1,hl.a,[el.a,Q.a,K.a,t.t,t.V,[2,N.a],ml.a],{placeholder:[0,"placeholder"],interface:[1,"interface"]},null),t._52(603979776,21,{options:1}),t._47(131072,J.a,[z.a,t.j]),t._50(1024,null,p.l,function(l){return[l]},[hl.a]),t._30(17,671744,null,0,p.f,[[3,p.b],[8,null],[8,null],[2,p.l]],{name:[0,"name"]},null),t._50(2048,null,p.m,null,[p.f]),t._30(19,16384,null,0,p.n,[p.m],null,null),(l()(),t._55(-1,null,["\n                    "])),(l()(),t._26(16777216,null,null,1,null,View_CoreLoginSitePage_15)),t._30(22,802816,null,0,cl.j,[t._11,t._6,t.E],{ngForOf:[0,"ngForOf"]},null),(l()(),t._55(-1,null,["\n                "])),(l()(),t._55(-1,2,["\n            "]))],function(l,n){var e=n.component;l(n,13,0,t._34(1,"",t._56(n,13,0,t._44(n,15).transform("core.login.siteaddress")),""),"action-sheet");l(n,17,0,"siteUrl");l(n,22,0,e.fixedSites)},function(l,n){l(n,9,0,t._56(n,9,0,t._44(n,10).transform("core.login.selectsite")));l(n,12,0,t._44(n,13)._disabled,t._44(n,19).ngClassUntouched,t._44(n,19).ngClassTouched,t._44(n,19).ngClassPristine,t._44(n,19).ngClassDirty,t._44(n,19).ngClassValid,t._44(n,19).ngClassInvalid,t._44(n,19).ngClassPending)})}function View_CoreLoginSitePage_16(l){return t._57(0,[(l()(),t._31(0,0,null,null,11,"ion-item",[["class","item item-block"],["no-lines",""]],null,null,null,T.b,T.a)),t._30(1,1097728,null,3,N.a,[Q.a,K.a,t.t,t.V,[2,G.a]],null,null),t._52(335544320,22,{contentLabel:0}),t._52(603979776,23,{_buttons:1}),t._52(603979776,24,{_icons:1}),t._30(5,16384,null,0,B.a,[],null,null),(l()(),t._55(-1,2,["\n                "])),(l()(),t._31(7,0,null,2,3,"button",[["block",""],["ion-button",""],["text-wrap",""]],[[8,"disabled",0]],null,null,pl.b,pl.a)),t._30(8,1097728,[[23,4]],0,bl.a,[[8,""],K.a,t.t,t.V],{block:[0,"block"]},null),(l()(),t._55(9,0,["",""])),t._47(131072,J.a,[z.a,t.j]),(l()(),t._55(-1,2,["\n            "]))],function(l,n){l(n,8,0,"")},function(l,n){l(n,7,0,!n.component.siteForm.valid);l(n,9,0,t._56(n,9,0,t._44(n,10).transform("core.login.connect")))})}function View_CoreLoginSitePage_1(l){return t._57(0,[(l()(),t._31(0,0,[[1,0],["siteFormEl",1]],null,16,"form",[["ion-list",""],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,e){var u=!0,i=l.component;if("submit"===n){u=!1!==t._44(l,2).onSubmit(e)&&u}if("reset"===n){u=!1!==t._44(l,2).onReset()&&u}if("ngSubmit"===n){u=!1!==i.connect(e,i.siteForm.value.siteUrl)&&u}return u},null,null)),t._30(1,16384,null,0,p.w,[],null,null),t._30(2,540672,null,0,p.h,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t._50(2048,null,p.b,null,[p.h]),t._30(4,16384,null,0,p.o,[p.b],null,null),(l()(),t._55(-1,null,["\n            "])),(l()(),t._55(-1,null,["\n            "])),(l()(),t._26(16777216,null,null,1,null,View_CoreLoginSitePage_2)),t._30(8,16384,null,0,cl.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(l()(),t._55(-1,null,["\n\n            "])),(l()(),t._55(-1,null,["\n            "])),(l()(),t._26(16777216,null,null,1,null,View_CoreLoginSitePage_14)),t._30(12,16384,null,0,cl.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(l()(),t._55(-1,null,["\n\n            "])),(l()(),t._26(16777216,null,null,1,null,View_CoreLoginSitePage_16)),t._30(15,16384,null,0,cl.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(l()(),t._55(-1,null,["\n        "]))],function(l,n){var e=n.component;l(n,2,0,e.siteForm);l(n,8,0,!e.fixedSites);l(n,12,0,e.fixedSites&&"select"==e.siteSelector);l(n,15,0,e.fixedSites&&"select"==e.siteSelector||!e.fixedSites&&"url"==e.siteSelector)},function(l,n){l(n,0,0,t._44(n,4).ngClassUntouched,t._44(n,4).ngClassTouched,t._44(n,4).ngClassPristine,t._44(n,4).ngClassDirty,t._44(n,4).ngClassValid,t._44(n,4).ngClassInvalid,t._44(n,4).ngClassPending)})}function View_CoreLoginSitePage_19(l){return t._57(0,[(l()(),t._31(0,0,null,null,5,"ion-searchbar",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"searchbar-animated",null],[2,"searchbar-has-value",null],[2,"searchbar-active",null],[2,"searchbar-show-cancel",null],[2,"searchbar-left-aligned",null],[2,"searchbar-has-focus",null]],[[null,"ngModelChange"],[null,"ionInput"],[null,"ionCancel"]],function(l,n,e){var t=!0,u=l.component;if("ngModelChange"===n){t=!1!==(u.filter=e)&&t}if("ionInput"===n){t=!1!==u.filterChanged(e)&&t}if("ionCancel"===n){t=!1!==u.filterChanged()&&t}return t},Sl.b,Sl.a)),t._30(1,671744,null,0,p.q,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),t._50(2048,null,p.m,null,[p.q]),t._30(3,16384,null,0,p.n,[p.m],null,null),t._30(4,1294336,null,0,Cl.a,[K.a,nl.a,t.t,t.V,[2,p.m]],{placeholder:[0,"placeholder"]},{ionInput:"ionInput",ionCancel:"ionCancel"}),t._47(131072,J.a,[z.a,t.j])],function(l,n){l(n,1,0,n.component.filter);l(n,4,0,t._56(n,4,0,t._44(n,5).transform("core.login.findyoursite")))},function(l,n){l(n,0,1,[t._44(n,3).ngClassUntouched,t._44(n,3).ngClassTouched,t._44(n,3).ngClassPristine,t._44(n,3).ngClassDirty,t._44(n,3).ngClassValid,t._44(n,3).ngClassInvalid,t._44(n,3).ngClassPending,t._44(n,4)._animated,t._44(n,4)._value,t._44(n,4)._isActive,t._44(n,4)._showCancelButton,t._44(n,4)._shouldAlignLeft,t._44(n,4)._isFocus])})}function View_CoreLoginSitePage_21(l){return t._57(0,[(l()(),t._31(0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t._55(1,null,["",""]))],null,function(l,n){l(n,1,0,n.parent.context.$implicit.url)})}function View_CoreLoginSitePage_20(l){return t._57(0,[(l()(),t._31(0,0,null,null,12,"ion-item",[["class","item item-block"],["detail-push",""],["text-wrap",""]],[[8,"title",0]],[[null,"click"]],function(l,n,e){var t=!0;if("click"===n){t=!1!==l.component.connect(e,l.context.$implicit.url)&&t}return t},T.b,T.a)),t._30(1,1097728,null,3,N.a,[Q.a,K.a,t.t,t.V,[2,G.a]],null,null),t._52(335544320,28,{contentLabel:0}),t._52(603979776,29,{_buttons:1}),t._52(603979776,30,{_icons:1}),t._30(5,16384,null,0,B.a,[],null,null),(l()(),t._55(-1,2,["\n                    "])),(l()(),t._31(7,0,null,2,1,"h2",[],null,null,null,null,null)),(l()(),t._55(8,null,["",""])),(l()(),t._55(-1,2,["\n                    "])),(l()(),t._26(16777216,null,2,1,null,View_CoreLoginSitePage_21)),t._30(11,16384,null,0,cl.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(l()(),t._55(-1,2,["\n                "]))],function(l,n){l(n,11,0,"list"==n.component.siteSelector)},function(l,n){l(n,0,0,n.context.$implicit.name);l(n,8,0,n.context.$implicit.name)})}function View_CoreLoginSitePage_18(l){return t._57(0,[(l()(),t._31(0,0,null,null,18,"ion-list",[],null,null,null,null,null)),t._30(1,16384,null,0,_l.a,[K.a,t.t,t.V,nl.a,gl.l,ul.a],null,null),(l()(),t._55(-1,null,["\n                "])),(l()(),t._31(3,0,null,null,8,"ion-item",[["class","item item-block"],["no-lines",""]],null,null,null,T.b,T.a)),t._30(4,1097728,null,3,N.a,[Q.a,K.a,t.t,t.V,[2,G.a]],null,null),t._52(335544320,25,{contentLabel:0}),t._52(603979776,26,{_buttons:1}),t._52(603979776,27,{_icons:1}),t._30(8,16384,null,0,B.a,[],null,null),(l()(),t._31(9,0,null,2,2,"h2",[["class","item-heading"]],null,null,null,null,null)),(l()(),t._55(10,null,["",""])),t._47(131072,J.a,[z.a,t.j]),(l()(),t._55(-1,null,["\n                "])),(l()(),t._26(16777216,null,null,1,null,View_CoreLoginSitePage_19)),t._30(14,16384,null,0,cl.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(l()(),t._55(-1,null,["\n                "])),(l()(),t._26(16777216,null,null,1,null,View_CoreLoginSitePage_20)),t._30(17,802816,null,0,cl.j,[t._11,t._6,t.E],{ngForOf:[0,"ngForOf"]},null),(l()(),t._55(-1,null,["\n            "]))],function(l,n){var e=n.component;l(n,14,0,e.fixedSites.length>4);l(n,17,0,e.filteredSites)},function(l,n){l(n,10,0,t._56(n,10,0,t._44(n,11).transform("core.login.selectsite")))})}function View_CoreLoginSitePage_23(l){return t._57(0,[(l()(),t._31(0,0,null,null,2,"a",[["block",""],["ion-button",""],["margin-bottom",""]],[[8,"title",0]],[[null,"click"]],function(l,n,e){var t=!0;if("click"===n){t=!1!==l.component.connect(e,l.context.$implicit.url)&&t}return t},pl.b,pl.a)),t._30(1,1097728,null,0,bl.a,[[8,""],K.a,t.t,t.V],{block:[0,"block"]},null),(l()(),t._55(2,0,["",""]))],function(l,n){l(n,1,0,"")},function(l,n){l(n,0,0,n.context.$implicit.name);l(n,2,0,n.context.$implicit.name)})}function View_CoreLoginSitePage_22(l){return t._57(0,[(l()(),t._31(0,0,null,null,8,"div",[],null,null,null,null,null)),(l()(),t._55(-1,null,["\n                "])),(l()(),t._31(2,0,null,null,2,"p",[["class","padding no-padding-bottom"]],null,null,null,null,null)),(l()(),t._55(3,null,["",""])),t._47(131072,J.a,[z.a,t.j]),(l()(),t._55(-1,null,["\n                "])),(l()(),t._26(16777216,null,null,1,null,View_CoreLoginSitePage_23)),t._30(7,802816,null,0,cl.j,[t._11,t._6,t.E],{ngForOf:[0,"ngForOf"]},null),(l()(),t._55(-1,null,["\n            "]))],function(l,n){l(n,7,0,n.component.fixedSites)},function(l,n){l(n,3,0,t._56(n,3,0,t._44(n,4).transform("core.login.selectsite")))})}function View_CoreLoginSitePage_17(l){return t._57(0,[(l()(),t._31(0,0,null,null,9,null,null,null,null,null,null,null)),(l()(),t._55(-1,null,["\n            "])),(l()(),t._55(-1,null,["\n            "])),(l()(),t._26(16777216,null,null,1,null,View_CoreLoginSitePage_18)),t._30(4,16384,null,0,cl.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(l()(),t._55(-1,null,["\n\n            "])),(l()(),t._55(-1,null,["\n            "])),(l()(),t._26(16777216,null,null,1,null,View_CoreLoginSitePage_22)),t._30(8,16384,null,0,cl.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(l()(),t._55(-1,null,["\n        "]))],function(l,n){var e=n.component;l(n,4,0,"list"==e.siteSelector||"listnourl"==e.siteSelector);l(n,8,0,"buttons"==e.siteSelector)},null)}function View_CoreLoginSitePage_24(l){return t._57(0,[(l()(),t._31(0,0,null,null,21,null,null,null,null,null,null,null)),(l()(),t._55(-1,null,["\n            "])),(l()(),t._31(2,0,null,null,2,"div",[["class","core-login-site-qrcode-separator"]],null,null,null,null,null)),(l()(),t._55(3,null,["",""])),t._47(131072,J.a,[z.a,t.j]),(l()(),t._55(-1,null,["\n            "])),(l()(),t._31(6,0,null,null,14,"ion-item",[["class","core-login-site-qrcode item item-block"],["no-lines",""]],null,null,null,T.b,T.a)),t._30(7,1097728,null,3,N.a,[Q.a,K.a,t.t,t.V,[2,G.a]],null,null),t._52(335544320,31,{contentLabel:0}),t._52(603979776,32,{_buttons:1}),t._52(603979776,33,{_icons:1}),t._30(11,16384,null,0,B.a,[],null,null),(l()(),t._55(-1,2,["\n                "])),(l()(),t._31(13,0,null,2,6,"a",[["block",""],["color","light"],["icon-start",""],["ion-button",""],["margin-top",""],["text-wrap",""]],null,[[null,"click"]],function(l,n,e){var t=!0;if("click"===n){t=!1!==l.component.showInstructionsAndScanQR()&&t}return t},pl.b,pl.a)),t._30(14,1097728,[[32,4]],0,bl.a,[[8,""],K.a,t.t,t.V],{color:[0,"color"],block:[1,"block"]},null),(l()(),t._55(-1,0,["\n                    "])),(l()(),t._31(16,0,null,0,1,"core-icon",[["aria-hidden","true"],["name","fa-qrcode"]],null,null,null,ol.b,ol.a)),t._30(17,704512,null,0,al.a,[t.t,K.a],{name:[0,"name"]},null),(l()(),t._55(18,0,["\n                    ","\n                "])),t._47(131072,J.a,[z.a,t.j]),(l()(),t._55(-1,2,["\n            "])),(l()(),t._55(-1,null,["\n        "]))],function(l,n){l(n,14,0,"light","");l(n,17,0,"fa-qrcode")},function(l,n){l(n,3,0,t._56(n,3,0,t._44(n,4).transform("core.login.or")));l(n,18,0,t._56(n,18,0,t._44(n,19).transform("core.scanqr")))})}function View_CoreLoginSitePage_0(l){return t._57(0,[t._52(671088640,1,{formElement:0}),(l()(),t._31(1,0,null,null,26,"ion-header",[],null,null,null,null,null)),t._30(2,16384,null,0,vl.a,[K.a,t.t,t.V,[2,Pl.a]],null,null),(l()(),t._55(-1,null,["\n    "])),(l()(),t._31(4,0,null,null,22,"ion-navbar",[["class","toolbar"],["core-back-button",""]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,wl.b,wl.a)),t._30(5,49152,null,0,Ll.a,[el.a,[2,Pl.a],[2,Z.a],K.a,t.t,t.V],null,null),t._30(6,212992,null,0,Vl.a,[Ll.a,nl.a,z.a,a.b],null,null),(l()(),t._55(-1,3,["\n        "])),(l()(),t._31(8,0,null,3,3,"ion-title",[],null,null,null,yl.b,yl.a)),t._30(9,49152,null,0,kl.a,[K.a,t.t,t.V,[2,xl.a],[2,Ll.a]],null,null),(l()(),t._55(10,0,["",""])),t._47(131072,J.a,[z.a,t.j]),(l()(),t._55(-1,3,["\n\n        "])),(l()(),t._31(13,0,null,2,12,"ion-buttons",[["end",""]],null,null,null,null,null)),t._30(14,16384,null,1,Ul.a,[K.a,t.t,t.V,[2,xl.a],[2,Ll.a]],null,null),t._52(603979776,2,{_buttons:1}),(l()(),t._55(-1,null,["\n            "])),(l()(),t._31(17,0,null,null,7,"button",[["icon-only",""],["ion-button",""],["navPush","CoreAppSettingsPage"]],[[1,"aria-label",0]],[[null,"click"]],function(l,n,e){var u=!0;if("click"===n){u=!1!==t._44(l,19).onClick()&&u}return u},pl.b,pl.a)),t._30(18,1097728,[[2,4]],0,bl.a,[[8,""],K.a,t.t,t.V],null,null),t._30(19,16384,null,0,Il.a,[[2,Z.a]],{navPush:[0,"navPush"]},null),t._47(131072,J.a,[z.a,t.j]),(l()(),t._55(-1,0,["\n                "])),(l()(),t._31(22,0,null,0,1,"core-icon",[["name","fa-cogs"]],null,null,null,ol.b,ol.a)),t._30(23,704512,null,0,al.a,[t.t,K.a],{name:[0,"name"]},null),(l()(),t._55(-1,0,["\n            "])),(l()(),t._55(-1,null,["\n        "])),(l()(),t._55(-1,3,["\n    "])),(l()(),t._55(-1,null,["\n"])),(l()(),t._55(-1,null,["\n"])),(l()(),t._31(29,0,null,null,33,"ion-content",[["padding",""]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,Ol.b,Ol.a)),t._30(30,4374528,null,0,tl.a,[K.a,nl.a,ul.a,t.t,t.V,el.a,Rl.a,t.M,[2,Pl.a],[2,Z.a]],null,null),(l()(),t._55(-1,1,["\n    "])),(l()(),t._31(32,0,null,1,29,"div",[],null,null,null,null,null)),(l()(),t._55(-1,null,["\n        "])),(l()(),t._31(34,0,null,null,3,"div",[["class","core-login-site-logo"],["margin-bottom",""],["padding",""],["text-center",""]],[[2,"hidden",null]],null,null,null,null)),(l()(),t._55(-1,null,["\n            "])),(l()(),t._31(36,0,null,null,0,"img",[["class","avatar-full login-logo"],["role","presentation"],["src","assets/img/login_logo.png"]],null,null,null,null,null)),(l()(),t._55(-1,null,["\n        "])),(l()(),t._55(-1,null,["\n        "])),(l()(),t._26(16777216,null,null,1,null,View_CoreLoginSitePage_1)),t._30(40,16384,null,0,cl.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(l()(),t._55(-1,null,["\n\n        "])),(l()(),t._26(16777216,null,null,1,null,View_CoreLoginSitePage_17)),t._30(43,16384,null,0,cl.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(l()(),t._55(-1,null,["\n\n        "])),(l()(),t._26(16777216,null,null,1,null,View_CoreLoginSitePage_24)),t._30(46,16384,null,0,cl.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(l()(),t._55(-1,null,["\n\n        "])),(l()(),t._55(-1,null,["\n        "])),(l()(),t._31(49,0,null,null,11,"ion-list",[["margin-top",""],["no-lines",""]],null,null,null,null,null)),t._30(50,16384,null,0,_l.a,[K.a,t.t,t.V,nl.a,gl.l,ul.a],null,null),(l()(),t._55(-1,null,["\n            "])),(l()(),t._31(52,0,null,null,7,"a",[["class","core-login-need-help item item-block"],["detail-none",""],["ion-item",""],["text-center",""],["text-wrap",""]],null,[[null,"click"]],function(l,n,e){var t=!0;if("click"===n){t=!1!==l.component.showHelp()&&t}return t},T.b,T.a)),t._30(53,1097728,null,3,N.a,[Q.a,K.a,t.t,t.V,[2,G.a]],null,null),t._52(335544320,34,{contentLabel:0}),t._52(603979776,35,{_buttons:1}),t._52(603979776,36,{_icons:1}),t._30(57,16384,null,0,B.a,[],null,null),(l()(),t._55(58,2,["\n                ","\n            "])),t._47(131072,J.a,[z.a,t.j]),(l()(),t._55(-1,null,["\n        "])),(l()(),t._55(-1,null,["\n    "])),(l()(),t._55(-1,1,["\n"])),(l()(),t._55(-1,null,["\n"]))],function(l,n){var e=n.component;l(n,6,0);l(n,19,0,"CoreAppSettingsPage");l(n,23,0,"fa-cogs");l(n,40,0,!e.fixedSites||"select"==e.siteSelector);l(n,43,0,e.fixedSites);l(n,46,0,e.showScanQR&&!e.hasSites&&!e.enteredSiteUrl)},function(l,n){var e=n.component;l(n,4,0,t._44(n,5)._hidden,t._44(n,5)._sbPadding);l(n,10,0,t._56(n,10,0,t._44(n,11).transform("core.login.connecttomoodle")));l(n,17,0,t._56(n,17,0,t._44(n,20).transform("core.settings.appsettings")));l(n,29,0,t._44(n,30).statusbarPadding,t._44(n,30)._hasRefresher);l(n,34,0,e.hasSites||e.enteredSiteUrl);l(n,58,0,t._56(n,58,0,t._44(n,59).transform("core.needhelp")))})}Object.defineProperty(n,"__esModule",{value:!0});var t=e(0),u=e(5),i=e(55),o=e(11),a=e(9),r=e(1),s=e(40),c=e(4),_=e(10),g=e(20),d=e(2),f=e(128),h=e(94),m=e(120),p=e(23),b=e(338),S=e(3),C=this&&this.__decorate||function(l,n,e,t){var u,i=arguments.length,o=i<3?n:null===t?t=Object.getOwnPropertyDescriptor(n,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(l,n,e,t);else for(var a=l.length-1;a>=0;a--)(u=l[a])&&(o=(i<3?u(o):i>3?u(n,e,o):u(n,e))||o);return i>3&&o&&Object.defineProperty(n,e,o),o},v=this&&this.__metadata||function(l,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(l,n)},P=this&&this.__awaiter||function(l,n,e,t){return new(e||(e=Promise))(function(u,i){function fulfilled(l){try{step(t.next(l))}catch(l){i(l)}}function rejected(l){try{step(t.throw(l))}catch(l){i(l)}}function step(l){l.done?u(l.value):new e(function(n){n(l.value)}).then(fulfilled,rejected)}step((t=t.apply(l,n||[])).next())})},w=this&&this.__generator||function(l,n){function verb(i){return function(a){return function step(i){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,t&&(u=t[2&i[0]?"return":i[0]?"throw":"next"])&&!(u=u.call(t,i[1])).done)return u;switch(t=0,u&&(i=[0,u.value]),i[0]){case 0:case 1:u=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,t=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(u=o.trys,!(u=u.length>0&&u[u.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!u||i[1]>u[0]&&i[1]<u[3])){o.label=i[1];break}if(6===i[0]&&o.label<u[1]){o.label=u[1],u=i;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(i);break}u[2]&&o.ops.pop(),o.trys.pop();continue}i=n.call(l,o)}catch(l){i=[6,l],t=0}finally{e=u=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}var e,t,u,i,o={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i},L=function(){function CoreLoginSitePage(l,n,e,t,u,i,o,a,r,s,c,_,g,d,p){var S=this;this.navCtrl=n,this.appProvider=t,this.sitesProvider=u,this.loginHelper=i,this.modalCtrl=o,this.alertCtrl=a,this.urlUtils=r,this.domUtils=s,this.eventsProvider=c,this.translate=_,this.utils=g,this.urlSchemesProvider=d,this.textUtils=p,this.siteSelector="sitefinder",this.showKeyboard=!1,this.filter="",this.sites=[],this.hasSites=!1,this.loadingSites=!1,this.showKeyboard=!!l.get("showKeyboard");var C="";this.siteSelector=h.a.multisitesdisplay,this.loginHelper.hasSeveralFixedSites()?(this.fixedSites=this.loginHelper.getFixedSites(),["list","listnourl","select","buttons"].indexOf(this.siteSelector)<0&&(this.siteSelector=this.fixedSites.length>8?"list":this.fixedSites.length>3?"select":"buttons"),this.filteredSites=this.fixedSites,C=this.fixedSites[0].url):!h.a.enableonboarding||this.appProvider.isIOS()||this.appProvider.isMac()||f.a.instance.get(m.a.ONBOARDING_DONE,!1).then(function(l){l||S.showOnboarding()}),this.showScanQR=this.utils.canScanQR()&&(void 0===h.a.displayqronsitescreen||!!h.a.displayqronsitescreen),this.siteForm=e.group({siteUrl:[C,this.moodleUrlValidator()]}),this.searchFnc=this.utils.debounce(function(l){return P(S,void 0,void 0,function(){var n,e=this;return w(this,function(t){switch(t.label){case 0:return(l=l.trim()).length>=3?(n=this,[4,this.sitesProvider.findSites(l)]):[3,2];case 1:return n.sites=t.sent(),this.sites.forEach(function(l){l.noProtocolUrl=b.a.removeProtocol(l.url),l.country=e.utils.getCountryName(l.countrycode)}),this.hasSites=!!this.sites.length,[3,3];case 2:this.hasSites=!1,t.label=3;case 3:return this.loadingSites=!1,[2]}})})},1e3)}return CoreLoginSitePage.prototype.connect=function(l,n,e){var t=this;if(l.preventDefault(),l.stopPropagation(),this.appProvider.closeKeyboard(),n)if(this.appProvider.isOnline())if((n=n.trim()).match(/^(https?:\/\/)?campus\.example\.edu/))this.showLoginIssue(null,this.translate.instant("core.login.errorexampleurl"));else{var u=this.domUtils.showModalLoading(),i=this.sitesProvider.getDemoSiteData(n);i?this.sitesProvider.getUserToken(i.url,i.username,i.password).then(function(l){return t.sitesProvider.newSite(l.siteUrl,l.token,l.privateToken).then(function(){return t.domUtils.triggerFormSubmittedEvent(t.formElement,!0),t.loginHelper.goToSiteInitialPage()},function(l){t.loginHelper.treatUserTokenError(i.url,l,i.username,i.password),l.loggedout&&t.navCtrl.setRoot("CoreLoginSitesPage")})},function(l){t.loginHelper.treatUserTokenError(i.url,l,i.username,i.password),l.loggedout&&t.navCtrl.setRoot("CoreLoginSitesPage")}).finally(function(){u.dismiss()}):this.sitesProvider.checkSite(n).catch(function(l){var e=b.a.guessMoodleDomain(n);return e&&e!=n?t.sitesProvider.checkSite(e).catch(function(n){return Promise.reject(l||n)}):Promise.reject(l)}).then(function(l){return t.login(l,e)}).catch(function(l){return t.showLoginIssue(n,l)}).finally(function(){return u.dismiss()})}else this.domUtils.showErrorModal("core.networkerrormsg",!0);else this.domUtils.showErrorModal("core.login.siteurlrequired",!0)},CoreLoginSitePage.prototype.filterChanged=function(l){var n=l.target.value&&l.target.value.trim().toLowerCase();this.filteredSites=n&&this.fixedSites?this.fixedSites.filter(function(l){return l.name.toLowerCase().indexOf(n)>-1||l.url.toLowerCase().indexOf(n)>-1}):this.fixedSites},CoreLoginSitePage.prototype.showHelp=function(){this.modalCtrl.create("CoreLoginSiteHelpPage",{},{cssClass:"core-modal-fullscreen"}).present()},CoreLoginSitePage.prototype.showOnboarding=function(){this.modalCtrl.create("CoreLoginSiteOnboardingPage",{},{cssClass:"core-modal-fullscreen"}).present()},CoreLoginSitePage.prototype.showLoginIssue=function(l,n){var e=this;if((n=this.domUtils.getErrorMessage(n))==this.translate.instant("core.cannotconnecttrouble")){this.sites.find(function(n){return n.url==l})||(n+=" "+this.translate.instant("core.cannotconnectverify"))}var t="<p>"+n+"</p>";if(l){t+='<p padding><a href="'+(this.urlUtils.isAbsoluteURL(l)?l:"https://"+l)+'" core-link>'+l+"</a></p>"}var u=[{text:this.translate.instant("core.needhelp"),handler:function(){e.showHelp()}},{text:this.translate.instant("core.tryagain"),role:"cancel"}];this.domUtils.showAlertWithOptions({title:this.translate.instant("core.cannotconnect",{$a:i.a.MINIMUM_MOODLE_VERSION}),message:t,buttons:u})},CoreLoginSitePage.prototype.searchSite=function(l,n){this.loadingSites=!0,n=n.trim(),this.enteredSiteUrl=this.siteForm.valid&&n.length>=3?{url:n,name:"connect",noProtocolUrl:b.a.removeProtocol(n)}:null,this.searchFnc(n.trim())},CoreLoginSitePage.prototype.getDemoSiteData=function(l){var n=h.a.demo_sites;if(void 0!==n&&void 0!==n[l])return n[l]},CoreLoginSitePage.prototype.login=function(l,n){return P(this,void 0,void 0,function(){var e=this;return w(this,function(t){return[2,this.sitesProvider.checkRequiredMinimumVersion(l.config).then(function(){if(e.domUtils.triggerFormSubmittedEvent(e.formElement,!0),l.warning&&e.domUtils.showErrorModal(l.warning,!0,4e3),e.loginHelper.isSSOLoginNeeded(l.code))e.loginHelper.confirmAndOpenBrowserForSSOLogin(l.siteUrl,l.code,l.service,l.config&&l.config.launchurl);else{var t={siteUrl:l.siteUrl,siteConfig:l.config};n&&(t.siteName=n.name,t.logoUrl=n.imageurl),e.navCtrl.push("CoreLoginCredentialsPage",t)}}).catch(function(){})]})})},CoreLoginSitePage.prototype.moodleUrlValidator=function(){var l=this;return function(n){var e=n.value.trim(),t=e.length>=3&&b.a.isValidMoodleUrl(e);if(!t){!!l.getDemoSiteData(e)&&(t=!0)}return t?null:{siteUrl:{value:n.value}}}},CoreLoginSitePage.prototype.showInstructionsAndScanQR=function(){var l=this;this.domUtils.showAlertWithOptions({title:this.translate.instant("core.login.faqwhereisqrcode"),message:this.translate.instant("core.login.faqwhereisqrcodeanswer",{$image:m.a.FAQ_QRCODE_IMAGE_HTML}),buttons:[{text:this.translate.instant("core.cancel"),role:"cancel"},{text:this.translate.instant("core.next"),handler:function(){l.scanQR()}}]})},CoreLoginSitePage.prototype.scanQR=function(){return P(this,void 0,void 0,function(){var l,n;return w(this,function(e){switch(e.label){case 0:return[4,this.utils.scanQR()];case 1:if(!(l=e.sent()))return[3,7];if(!this.urlSchemesProvider.isCustomURL(l))return[3,6];e.label=2;case 2:return e.trys.push([2,4,,5]),[4,this.urlSchemesProvider.handleCustomURL(l)];case 3:return e.sent(),[3,5];case 4:return(n=e.sent())&&n.data&&n.data.isAuthenticationURL&&n.data.siteUrl?this.treatErrorInAuthenticationCustomURL(l,n):this.urlSchemesProvider.treatHandleCustomURLError(n),[3,5];case 5:return[3,7];case 6:this.siteForm.controls.siteUrl.setValue(l),this.connect(new Event("click"),l),e.label=7;case 7:return[2]}})})},CoreLoginSitePage.prototype.treatErrorInAuthenticationCustomURL=function(l,n){return P(this,void 0,void 0,function(){var l,e,t;return w(this,function(u){switch(u.label){case 0:l=n.data.siteUrl,e=this.domUtils.showModalLoading(),this.siteForm.controls.siteUrl.setValue(l),u.label=1;case 1:return u.trys.push([1,6,7,8]),[4,this.sitesProvider.checkSite(l)];case 2:return t=u.sent(),[4,this.sitesProvider.checkRequiredMinimumVersion(t.config)];case 3:return u.sent(),this.loginHelper.isSSOLoginNeeded(t.code)?[3,5]:[4,this.navCtrl.push("CoreLoginCredentialsPage",{siteUrl:t.siteUrl,siteConfig:t.config})];case 4:u.sent(),u.label=5;case 5:return[3,8];case 6:return u.sent(),[3,8];case 7:return e.dismiss(),[7];case 8:return n.error=this.textUtils.addTextToError(n.error,"<br><br>"+this.translate.instant("core.login.youcanstillconnectwithcredentials")),this.urlSchemesProvider.treatHandleCustomURLError(n),[2]}})})},C([Object(t._9)("siteFormEl"),v("design:type",t.t)],CoreLoginSitePage.prototype,"formElement",void 0),CoreLoginSitePage=C([Object(t.m)({selector:"page-core-login-site",templateUrl:"site.html"}),v("design:paramtypes",[u.t,u.s,p.d,o.b,r.b,m.a,u.q,u.b,g.b,c.b,a.b,S.c,d.b,s.c,_.b])],CoreLoginSitePage)}(),V=e(32),y=e(26),k=this&&this.__decorate||function(l,n,e,t){var u,i=arguments.length,o=i<3?n:null===t?t=Object.getOwnPropertyDescriptor(n,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(l,n,e,t);else for(var a=l.length-1;a>=0;a--)(u=l[a])&&(o=(i<3?u(o):i>3?u(n,e,o):u(n,e))||o);return i>3&&o&&Object.defineProperty(n,e,o),o},x=function(){function CoreLoginSitePageModule(){}return CoreLoginSitePageModule=k([Object(t.I)({declarations:[L],imports:[V.a,y.a,u.l.forChild(L),S.b.forChild()]})],CoreLoginSitePageModule)}(),U=e(1570),I=e(1571),O=e(1572),R=e(1573),j=e(1574),E=e(1575),F=e(1576),M=e(1577),$=e(1578),A=e(1579),D=e(1580),q=e(1581),H=e(1582),T=e(31),N=e(21),Q=e(19),K=e(8),G=e(27),B=e(33),W=e(69),J=e(25),z=e(18),X=e(114),Y=e(393),Z=e(22),ll=e(95),nl=e(16),el=e(35),tl=e(28),ul=e(34),il=e(800),ol=e(85),al=e(78),rl=e(125),sl=e(105),cl=e(7),_l=e(87),gl=e(45),dl=e(112),fl=e(127),hl=e(113),ml=e(62),pl=e(47),bl=e(44),Sl=e(1625),Cl=e(401),vl=e(387),Pl=e(41),wl=e(749),Ll=e(217),Vl=e(491),yl=e(750),kl=e(325),xl=e(253),Ul=e(388),Il=e(235),Ol=e(184),Rl=e(111),jl=e(72),El=e(167),Fl=e(539),Ml=t._29({encapsulation:2,styles:[],data:{}}),$l=t._27("page-core-login-site",L,function View_CoreLoginSitePage_Host_0(l){return t._57(0,[(l()(),t._31(0,0,null,null,1,"page-core-login-site",[],null,null,null,View_CoreLoginSitePage_0,Ml)),t._30(1,49152,null,0,L,[jl.a,Z.a,p.d,o.b,r.b,m.a,El.a,Fl.a,g.b,c.b,a.b,z.a,d.b,s.c,_.b],null,null)],null,null)},{},{},[]),Al=e(383),Dl=e(384),ql=e(386),Hl=e(385),Tl=e(490),Nl=e(748),Ql=e(110),Kl=e(281);e.d(n,"CoreLoginSitePageModuleNgFactory",function(){return Gl});var Gl=t._28(x,[],function(l){return t._40([t._41(512,t.o,t._21,[[8,[U.a,I.a,O.a,R.a,j.a,E.a,F.a,M.a,$.a,A.a,D.a,q.a,H.a,$l]],[3,t.o],t.K]),t._41(4608,cl.m,cl.l,[t.G,[2,cl.w]]),t._41(4608,p.x,p.x,[]),t._41(4608,p.d,p.d,[]),t._41(4608,Al.b,Al.a,[]),t._41(4608,Dl.a,Dl.b,[]),t._41(4608,ql.b,ql.a,[]),t._41(4608,Hl.b,Hl.a,[]),t._41(4608,z.a,z.a,[Tl.a,Al.b,Dl.a,ql.b,Hl.b,z.b,z.c]),t._41(512,V.a,V.a,[]),t._41(512,cl.b,cl.b,[]),t._41(512,p.v,p.v,[]),t._41(512,p.i,p.i,[]),t._41(512,p.s,p.s,[]),t._41(512,Nl.a,Nl.a,[]),t._41(512,S.b,S.b,[]),t._41(512,Ql.a,Ql.a,[]),t._41(512,y.a,y.a,[]),t._41(512,Nl.b,Nl.b,[]),t._41(512,x,x,[]),t._41(256,z.c,void 0,[]),t._41(256,z.b,void 0,[]),t._41(256,Kl.a,L,[])])})}});